/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!***********************!*\
  !*** ./src/script.ts ***!
  \***********************/
//コンテスト終了後から何時間分のツイートを表示するか
var timeRange = 2;
//「話題のツイート」タブで開くならfalse, 「最新」タブで開くならtrue;
var showLiveTweet = true;
var listIDs = [
    "1265268852528566273",
    "1265268943393943554",
    "1265269023278690304",
    "1265269077888479235",
    "1265269135493099526",
    "1265269191877124101",
    "1265269251641761793",
    "1265269317169340417"
];
var iconPaths = [
    "icon/red.svg",
    "icon/orange.svg",
    "icon/yellow.svg",
    "icon/blue.svg",
    "icon/cyan.svg",
    "icon/green.svg",
    "icon/brown.svg",
    "icon/gray.svg",
];
var colors = [
    " Red",
    " Orange",
    " Yellow",
    " Blue",
    " Cyan",
    " Green",
    " Brown",
    " Gray"
];
var contestFinishTime = new Date(document.getElementsByTagName("time")[1].textContent);
var searchRangeStart = function () {
    var searchRangeStart = contestFinishTime;
    var startDate = searchRangeStart.toLocaleDateString("jp-JP", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit"
    });
    var startYear = startDate.slice(0, 4);
    var startMonth = startDate.slice(5, 7);
    var startDay = startDate.slice(8, 10);
    var startTime = searchRangeStart.toLocaleTimeString("jp-JP").replace(":", "%3A");
    return "%20since%3A".concat(startYear, "-").concat(startMonth, "-").concat(startDay, "_").concat(startTime, "_JST");
};
var searchRangeEnd = function () {
    var searchRangeEnd = contestFinishTime;
    searchRangeEnd.setHours(searchRangeEnd.getHours() + timeRange);
    var endDate = searchRangeEnd.toLocaleDateString("jp-JP", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit"
    });
    var endTime = searchRangeEnd.toLocaleTimeString("jp-JP").replace(":", "%3A");
    var endYear = endDate.slice(0, 4);
    var endMonth = endDate.slice(5, 7);
    var endDay = endDate.slice(8, 10);
    return "%20until%3A".concat(endYear, "-").concat(endMonth, "-").concat(endDay, "_").concat(endTime, "_JST");
};
// コンテストページからコンテストの終了時間を取得し、AtCoder TLへのリンクを生成する
var generateURLs = function () {
    var queryString = searchRangeStart() + searchRangeEnd() + "&typed_query" + (showLiveTweet ? "&f=live" : "");
    var listURLs = listIDs.map(function (listID) {
        return "https://twitter.com/search?q=list%3A".concat(listID).concat(queryString);
    });
    return listURLs;
};
var generateLinkElements = function () {
    var links = document.createElement("li");
    var listURLs = generateURLs();
    for (var i = 0; i < 8; ++i) {
        var link = document.createElement("a");
        link.href = listURLs[i];
        var colorIcon = document.createElement("img");
        colorIcon.src = chrome.runtime.getURL(iconPaths[i]);
        links.append(link);
        link.append(colorIcon);
        link.append(document.createTextNode(colors[i]));
    }
    return links;
};
// Add "AtCoderTL" Tab to the nav bar
window.addEventListener("load", function () {
    var tab = document.getElementsByClassName("nav nav-tabs");
    var linksToTL = generateLinkElements();
    var menu = document.createElement("ul");
    menu.className = "dropdown-menu";
    menu.append(linksToTL);
    var twitterIcon = document.createElement("img");
    twitterIcon.src = chrome.runtime.getURL("icon/twitter.svg");
    var dropDownMenu = document.createElement("a");
    var caret = document.createElement("span");
    caret.className = "caret";
    // Configure dropdown menu
    dropDownMenu.append(twitterIcon);
    dropDownMenu.append(document.createTextNode(" AtCoder TL"));
    dropDownMenu.append(caret);
    dropDownMenu.className = "dropdown-toggle";
    dropDownMenu.setAttribute("data-toggle", "dropdown");
    dropDownMenu.setAttribute("role", "button");
    dropDownMenu.setAttribute("aria-haspopup", "true");
    dropDownMenu.setAttribute("aria-expanded", "false");
    dropDownMenu.href = "#";
    var newTab = document.createElement("li");
    newTab.append(menu);
    newTab.append(dropDownMenu);
    // Insert the dropdown menu to the end of navbar
    var lastChild = tab[0].getElementsByClassName("pull-right");
    tab[0].insertBefore(newTab, lastChild[0]);
});

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7SUFDbkQsWUFBWSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEQsWUFBWSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFFeEIsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFNUIsZ0RBQWdEO0lBQ2hELElBQUksU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1RCxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8v44Kz44Oz44OG44K544OI57WC5LqG5b6M44GL44KJ5L2V5pmC6ZaT5YiG44Gu44OE44Kk44O844OI44KS6KGo56S644GZ44KL44GLXG5jb25zdCB0aW1lUmFuZ2U6IG51bWJlciA9IDI7XG5cbi8v44CM6Kmx6aGM44Gu44OE44Kk44O844OI44CN44K/44OW44Gn6ZaL44GP44Gq44KJZmFsc2UsIOOAjOacgOaWsOOAjeOCv+ODluOBp+mWi+OBj+OBquOCiXRydWU7XG5jb25zdCBzaG93TGl2ZVR3ZWV0OiBib29sZWFuID0gdHJ1ZTtcblxuY29uc3QgbGlzdElEczogc3RyaW5nW10gPSBbXG4gIFwiMTI2NTI2ODg1MjUyODU2NjI3M1wiLFxuICBcIjEyNjUyNjg5NDMzOTM5NDM1NTRcIixcbiAgXCIxMjY1MjY5MDIzMjc4NjkwMzA0XCIsXG4gIFwiMTI2NTI2OTA3Nzg4ODQ3OTIzNVwiLFxuICBcIjEyNjUyNjkxMzU0OTMwOTk1MjZcIixcbiAgXCIxMjY1MjY5MTkxODc3MTI0MTAxXCIsXG4gIFwiMTI2NTI2OTI1MTY0MTc2MTc5M1wiLFxuICBcIjEyNjUyNjkzMTcxNjkzNDA0MTdcIlxuXTtcblxuY29uc3QgaWNvblBhdGhzOiBzdHJpbmdbXSA9IFtcbiAgXCJpY29uL3JlZC5zdmdcIixcbiAgXCJpY29uL29yYW5nZS5zdmdcIixcbiAgXCJpY29uL3llbGxvdy5zdmdcIixcbiAgXCJpY29uL2JsdWUuc3ZnXCIsXG4gIFwiaWNvbi9jeWFuLnN2Z1wiLFxuICBcImljb24vZ3JlZW4uc3ZnXCIsXG4gIFwiaWNvbi9icm93bi5zdmdcIixcbiAgXCJpY29uL2dyYXkuc3ZnXCIsXG5dXG5cbmNvbnN0IGNvbG9yczogc3RyaW5nW10gPSBbXG4gIFwiIFJlZFwiLCBcbiAgXCIgT3JhbmdlXCIsXG4gIFwiIFllbGxvd1wiLFxuICBcIiBCbHVlXCIsXG4gIFwiIEN5YW5cIixcbiAgXCIgR3JlZW5cIixcbiAgXCIgQnJvd25cIixcbiAgXCIgR3JheVwiXG5dXG5cbmNvbnN0IGNvbnRlc3RGaW5pc2hUaW1lID0gbmV3IERhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aW1lXCIpWzFdLnRleHRDb250ZW50KTtcblxuY29uc3Qgc2VhcmNoUmFuZ2VTdGFydCA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzZWFyY2hSYW5nZVN0YXJ0ID0gY29udGVzdEZpbmlzaFRpbWU7XG4gIGNvbnN0IHN0YXJ0RGF0ZTogc3RyaW5nID0gc2VhcmNoUmFuZ2VTdGFydC50b0xvY2FsZURhdGVTdHJpbmcoXCJqcC1KUFwiLCB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgIGRheTogXCIyLWRpZ2l0XCJcbiAgfSk7XG4gIGNvbnN0IHN0YXJ0WWVhciA9IHN0YXJ0RGF0ZS5zbGljZSgwLCA0KTtcbiAgY29uc3Qgc3RhcnRNb250aCA9IHN0YXJ0RGF0ZS5zbGljZSg1LCA3KTtcbiAgY29uc3Qgc3RhcnREYXkgPSBzdGFydERhdGUuc2xpY2UoOCwgMTApO1xuICBsZXQgc3RhcnRUaW1lOiBzdHJpbmcgPSBzZWFyY2hSYW5nZVN0YXJ0LnRvTG9jYWxlVGltZVN0cmluZyhcImpwLUpQXCIpLnJlcGxhY2UoXCI6XCIsIFwiJTNBXCIpO1xuICByZXR1cm4gYCUyMHNpbmNlJTNBJHtzdGFydFllYXJ9LSR7c3RhcnRNb250aH0tJHtzdGFydERheX1fJHtzdGFydFRpbWV9X0pTVGA7XG59XG5cbmNvbnN0IHNlYXJjaFJhbmdlRW5kID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHNlYXJjaFJhbmdlRW5kID0gY29udGVzdEZpbmlzaFRpbWU7XG4gIHNlYXJjaFJhbmdlRW5kLnNldEhvdXJzKHNlYXJjaFJhbmdlRW5kLmdldEhvdXJzKCkgKyB0aW1lUmFuZ2UpO1xuICBjb25zdCBlbmREYXRlOiBzdHJpbmcgPSBzZWFyY2hSYW5nZUVuZC50b0xvY2FsZURhdGVTdHJpbmcoXCJqcC1KUFwiLCB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgIGRheTogXCIyLWRpZ2l0XCJcbiAgfSk7XG4gIGxldCBlbmRUaW1lOiBzdHJpbmcgPSBzZWFyY2hSYW5nZUVuZC50b0xvY2FsZVRpbWVTdHJpbmcoXCJqcC1KUFwiKS5yZXBsYWNlKFwiOlwiLCBcIiUzQVwiKTtcblxuICBjb25zdCBlbmRZZWFyID0gZW5kRGF0ZS5zbGljZSgwLCA0KTtcbiAgY29uc3QgZW5kTW9udGggPSBlbmREYXRlLnNsaWNlKDUsIDcpO1xuICBjb25zdCBlbmREYXkgPSBlbmREYXRlLnNsaWNlKDgsIDEwKTtcblxuICByZXR1cm4gYCUyMHVudGlsJTNBJHtlbmRZZWFyfS0ke2VuZE1vbnRofS0ke2VuZERheX1fJHtlbmRUaW1lfV9KU1RgO1xufVxuXG5cbi8vIOOCs+ODs+ODhuOCueODiOODmuODvOOCuOOBi+OCieOCs+ODs+ODhuOCueODiOOBrue1guS6huaZgumWk+OCkuWPluW+l+OBl+OAgUF0Q29kZXIgVEzjgbjjga7jg6rjg7Pjgq/jgpLnlJ/miJDjgZnjgotcbmNvbnN0IGdlbmVyYXRlVVJMcyA9ICgpOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IHF1ZXJ5U3RyaW5nID0gc2VhcmNoUmFuZ2VTdGFydCgpICsgc2VhcmNoUmFuZ2VFbmQoKSArIFwiJnR5cGVkX3F1ZXJ5XCIgKyAoc2hvd0xpdmVUd2VldCA/IFwiJmY9bGl2ZVwiIDogXCJcIik7XG4gIGNvbnN0IGxpc3RVUkxzOiBzdHJpbmdbXSA9IGxpc3RJRHMubWFwKChsaXN0SUQpID0+IHtcbiAgICByZXR1cm4gYGh0dHBzOi8vdHdpdHRlci5jb20vc2VhcmNoP3E9bGlzdCUzQSR7bGlzdElEfSR7cXVlcnlTdHJpbmd9YFxuICB9KTtcblxuICByZXR1cm4gbGlzdFVSTHM7XG59XG5cbmNvbnN0IGdlbmVyYXRlTGlua0VsZW1lbnRzID0gKCk6IEhUTUxFbGVtZW50ID0+IHtcbiAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gIGNvbnN0IGxpc3RVUkxzID0gZ2VuZXJhdGVVUkxzKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGxpbmsuaHJlZiA9IGxpc3RVUkxzW2ldO1xuXG4gICAgY29uc3QgY29sb3JJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb2xvckljb24uc3JjID0gY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKGljb25QYXRoc1tpXSk7XG4gICAgXG4gICAgbGlua3MuYXBwZW5kKGxpbmspO1xuICAgIGxpbmsuYXBwZW5kKGNvbG9ySWNvbik7XG4gICAgbGluay5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29sb3JzW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGxpbmtzO1xufVxuXG4vLyBBZGQgXCJBdENvZGVyVExcIiBUYWIgdG8gdGhlIG5hdiBiYXJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gIGNvbnN0IHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuYXYgbmF2LXRhYnNcIik7XG4gIGNvbnN0IGxpbmtzVG9UTCA9IGdlbmVyYXRlTGlua0VsZW1lbnRzKCk7XG5cbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgbWVudS5jbGFzc05hbWUgPSBcImRyb3Bkb3duLW1lbnVcIjtcbiAgbWVudS5hcHBlbmQobGlua3NUb1RMKTtcblxuICBjb25zdCB0d2l0dGVySWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIHR3aXR0ZXJJY29uLnNyYyA9IGNocm9tZS5ydW50aW1lLmdldFVSTChcImljb24vdHdpdHRlci5zdmdcIik7XG5cbiAgY29uc3QgZHJvcERvd25NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGNvbnN0IGNhcmV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGNhcmV0LmNsYXNzTmFtZSA9IFwiY2FyZXRcIjtcblxuICAvLyBDb25maWd1cmUgZHJvcGRvd24gbWVudVxuICBkcm9wRG93bk1lbnUuYXBwZW5kKHR3aXR0ZXJJY29uKTtcbiAgZHJvcERvd25NZW51LmFwcGVuZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiBBdENvZGVyIFRMXCIpKTtcbiAgZHJvcERvd25NZW51LmFwcGVuZChjYXJldCk7XG4gIGRyb3BEb3duTWVudS5jbGFzc05hbWUgPSBcImRyb3Bkb3duLXRvZ2dsZVwiO1xuICBkcm9wRG93bk1lbnUuc2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGVcIiwgXCJkcm9wZG93blwiKTtcbiAgZHJvcERvd25NZW51LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJidXR0b25cIik7XG4gIGRyb3BEb3duTWVudS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiKTtcbiAgZHJvcERvd25NZW51LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgZHJvcERvd25NZW51LmhyZWYgPSBcIiNcIjtcbiAgXG4gIGNvbnN0IG5ld1RhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgbmV3VGFiLmFwcGVuZChtZW51KTtcbiAgbmV3VGFiLmFwcGVuZChkcm9wRG93bk1lbnUpO1xuXG4gIC8vIEluc2VydCB0aGUgZHJvcGRvd24gbWVudSB0byB0aGUgZW5kIG9mIG5hdmJhclxuICBsZXQgbGFzdENoaWxkID0gdGFiWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwdWxsLXJpZ2h0XCIpO1xuICB0YWJbMF0uaW5zZXJ0QmVmb3JlKG5ld1RhYiwgbGFzdENoaWxkWzBdKTtcbn0pIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9